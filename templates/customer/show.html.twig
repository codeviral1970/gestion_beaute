{% extends "base.html.twig" %}

{% block title 'Listes des clients' %}

{% block body %}
    <div class="pagetitle">
      <h1>Profile</h1>
    </div><!-- End Page Title -->
    <section class="section profile">
      <div class="row">
        <div class="col-md-4">
          <!-- Card with an image on top -->
          <div class="card">
            {# <img src="{{ vich_uploader_asset(customer, "imageFile") }} class="card-img-top"" alt="avatar"> #}
             {% if customer.avatar | default %}
                <img src="{{ vich_uploader_asset(customer, "imageFile") | imagine_filter('profile') }}" width="300" height="300" class="card-img-top" alt="avatar">
                {% else %}
                 <img src="https://api.lorem.space/image/movie?w=150&h=220" width="300" height="300" class="card-img-top" alt="avatar">
                {% endif %} 
            <div class="card-body">
              <h5 class="card-title">{{customer.firstName | default }} {{customer.lastName | default}}</h5>
             
            </div>
          </div><!-- End Card with an image on top -->
        </div>

        <div class="col-md-8">
          <div class="card">
            <div class="card-body pt-3">
              <!-- Bordered Tabs -->
              <ul class="nav nav-tabs nav-tabs-bordered">

                <li class="nav-item">
                  <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#profile-overview">Info profil</button>
                </li>

                <li class="nav-item">
                  <button class="nav-link" data-bs-toggle="tab" data-bs-target="#profile-edit">Editer le profile</button>
                </li>

              </ul>
              <div class="tab-content pt-2">
                <!-- Profile details-->
                <div class="tab-pane fade show active profile-overview" id="profile-overview">
                  
                  <h5 class="card-title">Profile Details</h5>

                  <div class="row">
                    <div class="col-lg-3 col-md-4 label ">Prénom</div>
                    <div class="col-lg-9 col-md-8">{{customer.firstName | default}}</div>
                  </div>

                  <div class="row">
                    <div class="col-lg-3 col-md-4 label">Nom</div>
                    <div class="col-lg-9 col-md-8">{{customer.lastName | default}}</div>
                  </div>

                  <div class="row">
                    <div class="col-lg-3 col-md-4 label">Adresse</div>
                    <div class="col-lg-9 col-md-8">{{customer.address | default}}</div>
                  </div>

                  <div class="row">
                    <div class="col-lg-3 col-md-4 label">Code Postal</div>
                    <div class="col-lg-9 col-md-8">{{customer.zipCode | default}}</div>
                  </div>

                  <div class="row">
                    <div class="col-lg-3 col-md-4 label">Téléphone</div>
                    <div class="col-lg-9 col-md-8">{{customer.phone | default}}</div>
                  </div>

                  <div class="row">
                    <div class="col-lg-3 col-md-4 label">Email</div>
                    <div class="col-lg-9 col-md-8">{{customer.email | default}}</div>
                  </div>

                </div><!-- End Profile details -->

                <div class="tab-pane fade profile-edit pt-3" id="profile-edit">

                  <!-- Profile Edit Form -->
                  {{form_start(form, {'enctype' :"multipart/form-data"})}}
                    <div class="row mb-3">
                      <div class="col">
                        {{form_row(form.imageFile)}}
                      </div>
                    </div>
                    <div class="row mb-3">
                      <div class="col">
                        {{form_row(form.firstName)}}
                      </div>
                    </div>

                    <div class="row mb-3">
                      <div class="col">
                        {{form_row(form.lastName)}}
                      </div>
                    </div>

                    <div class="row mb-3">
                      <div class="col">
                        {{form_row(form.address)}}
                      </div>
                    </div>

                    <div class="row mb-3">

                      <div class="col">
                        {{form_row(form.zipCode)}}
                      </div>
                    </div>

                    <div class="row mb-3">
  
                      <div class="col">
                        {{form_row(form.phone)}}
                      </div>
                    </div>

                    <div class="row mb-3">
                     
                      <div class="col">
                        {{form_row(form.email)}}
                      </div>
                    </div>


                    <div class="text-center">
                      {{form_row(form.submit)}}
                    </div>
                 {{form_end(form)}}
                </div>

              </div><!-- End Bordered Tabs -->

            </div>
          </div>

        </div>

        {% include ('customer/_history.html.twig') %}
      </div>
    </section>

{% endblock %}